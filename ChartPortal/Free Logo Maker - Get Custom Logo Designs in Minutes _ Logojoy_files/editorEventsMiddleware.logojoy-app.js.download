webpackJsonp(["editorEventsMiddleware"],{1310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!document.getElementById("MIXPANEL_SCRIPT")){var e=document.createElement("script");e.id="MIXPANEL_SCRIPT",e.type="text/javascript",e.innerHTML='(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,\n\t0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");\n\tfor(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\\/\\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);\n\tmixpanel.init("4c861d2549b7ac5f0e4232ffb8285470", {debug: false, autotrack: false});\n',document.body.appendChild(e)}}},2314:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(2315)),o=a(n(1310)),u=a(n(2316)),r=n(869);t.default=function(){(0,o.default)(),mixpanel.disable(r.DISABLED_EVENTS);var e=(0,i.default)();return(0,u.default)(e),{middleware:function(t){return function(n){return function(a){return e.emit(a.type,t,mixpanel,a),n(a)}}},destroyListeners:function(){return e.off()}}}},2315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={_allEvents:Object.create(null),use:function(t,n){return t(e,n)||e},on:function(t,n,a){var i=e._allEvents[t]||(e._allEvents[t]=[]),o=a?function a(){a.called||(e.off(t,a),n.apply(n,arguments),a.called=!0)}:n;return o.__sourceString=n.toString(),i.push(o),e},once:function(t,n){return e.on(t,n,!0),e},off:function(t,n){if(n&&e._allEvents[t]){var a=n.toString();e._allEvents[t]=e._allEvents[t].filter(function(e){return e.__sourceString!==a})}else t?e._allEvents[t]=[]:e._allEvents=Object.create(null);return e},emit:function(t){if("*"!==t){var n=[].slice.call(arguments);(e._allEvents[t]||[]).map(function(e){e.apply(e,n.slice(1))}),(e._allEvents["*"]||[]).map(function(e){e.apply(e,n)})}return e}};return e}},2316:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(2317)),o=a(n(2319)),u=a(n(2320)),r=a(n(2322)),l=a(n(2323)),c=a(n(2324)),d=a(n(2325)),f=a(n(2326));t.default=function(e){(0,i.default)(e),(0,o.default)(e),(0,u.default)(e),(0,r.default)(e),(0,c.default)(e),(0,l.default)(e),(0,d.default)(e),(0,f.default)(e)}},2317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(2318),o=(a=i)&&a.__esModule?a:{default:a};t.default=function(e){e.once("*",function(e,t,n){var a=(0,o.default)(t.getState());n.identify(a)})}},2318:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.auth.user.id}},2319:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(583),o=a(n(644)),u=a(n(907)),r=n(869),l=(0,u.default)(),c=function(e,t){var n=e.getState();t.track(r.TRACK_USER_SAVE,Object.assign({ingredients:(0,o.default)(n)},l(n)))};t.default=function(e){e.on(i.ON_REQUEST_SAVE,c)}},2320:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(195),o=a(n(2321)),u=n(574),r=n(869),l=n(583),c=(0,a(n(907)).default)(),d=(0,o.default)(function(e,t,n){n.meta.changedBy===u.CHANGED_BY_EDITING&&t.track(r.TRACK_EDIT_LOGO,Object.assign({ingredients:n.payload.ingredients},c(e.getState())))},{every:4}),f=(0,i.debounce)(d,800);t.default=function(e){e.on(l.ON_DRAW_LOGO_WITH_UPDATE_INGREDIENTS,f)}},2321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.every,a=void 0===n?1:n,i=t.debug,o=void 0!==i&&i,u=0;return function(){u%a==0?e.apply(void 0,arguments):o&&console.log("Skipping invocation, count",u),u+=1}}},2322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(583),o=n(574),u=n(907),r=(a=u)&&a.__esModule?a:{default:a},l=n(869),c=(0,r.default)(),d=function(e,t,n){n.meta.changedBy===o.CHANGED_BY_VARIATIONS&&t.track(l.TRACK_SELECT_VARIATION,Object.assign({ingredients:n.payload.ingredients},c(e.getState())))};t.default=function(e){e.on(i.ON_DRAW_LOGO_WITH_UPDATE_INGREDIENTS,d)}},2323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(574),o=n(583),u=n(740),r=(0,((a=u)&&a.__esModule?a:{default:a}).default)(),l=function(e){return e.map(function(e){return e.hex})},c=function(e,t,n){if(n.meta.variationType===i.COLOR_VARIATION_TYPE){var a=e.getState(),c=l((0,u.selectColors)(n.payload.ingredients,!0)),d=l(r(a));c.filter(function(e){return d.indexOf(e)<0}).forEach(function(t){e.dispatch({type:o.ON_RECENT_COLOR,payload:t})})}};t.default=function(e){e.on(o.ON_DRAW_LOGO_WITH_UPDATE_INGREDIENTS,c)}},2324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(586),o=n(791),u=n(574),r=n(1015),l=(a=r)&&a.__esModule?a:{default:a},c=n(583),d=function(e,t,n){if(n.meta.variationType===u.ICONS_VARIATION_TYPE){var a=(0,i.getFeature)(n.payload.ingredients,function(e,t){return"symbol"===t.type&&t.data.id}).feature;if(a){var r=a.data.id,d=(0,o.addRecentIcon)((0,l.default)(e.getState()),r);e.dispatch({type:c.ON_UPDATE_CONFIG,payload:d})}}};t.default=function(e){e.on(c.ON_DRAW_LOGO_WITH_UPDATE_INGREDIENTS,d)}},2325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(583),o=n(869),u=n(907),r=(0,((a=u)&&a.__esModule?a:{default:a}).default)(),l=function(e,t,n){var a=o.TRACK_REMOVE_FEATURE[n.payload];t.track(a,Object.assign({},r(e.getState())))};t.default=function(e){e.on(i.ON_RECEIVE_REMOVE_FEATURE,l)}},2326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(583),o=n(869),u=n(907),r=(0,((a=u)&&a.__esModule?a:{default:a}).default)(),l=function(e,t){t.track(o.TRACK_HIDE_VARIATIONS_POPUP_TOOLTIP,Object.assign({},r(e.getState())))};t.default=function(e){e.on(i.HIDE_VARIATIONS_POPUP_TOOLTIP,l)}},869:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRACK_SELECT_VARIATION="select-variation",t.TRACK_EDIT_LOGO="edit-logo",t.TRACK_USER_SAVE="user-save";var a=t.TRACK_VARIATIONS_DRAW_TIMING="variations-drawn",i=t.TRACK_VARIATIONS_RESPONSE_TIMING="variations-responded";t.TRACK_HIDE_VARIATIONS_POPUP_TOOLTIP="hide-variations-popup-tooltip",t.DISABLED_EVENTS=[i,a],t.TRACK_REMOVE_FEATURE={removeSymbol:"remove-symbol",removeContainer:"remove-container"}},907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).date,t=void 0===e?Date.now():e;return function(e){return{logoId:(a=e,a.location.payload.logoid),userId:(n=e,n.auth.user.id),event_on:t};var n,a}}}});
//# sourceMappingURL=editorEventsMiddleware.logojoy-app.js.map